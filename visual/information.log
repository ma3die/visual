2024-04-01 16:11:18,513 - INFO - autoreload - autoreload.py 19732 5192 Watching for file changes with StatReloader
2024-04-01 16:11:25,412 - INFO - autoreload - autoreload.py 3280 8144 Watching for file changes with StatReloader
2024-04-01 16:14:16,221 - INFO - autoreload - autoreload.py 3280 8144 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-01 16:14:22,418 - INFO - autoreload - autoreload.py 5240 17260 Watching for file changes with StatReloader
2024-04-01 16:14:26,569 - INFO - autoreload - autoreload.py 5240 17260 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-01 16:14:31,290 - INFO - autoreload - autoreload.py 6200 3216 Watching for file changes with StatReloader
2024-04-01 16:14:47,662 - INFO - autoreload - autoreload.py 6200 3216 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-01 16:14:51,773 - INFO - autoreload - autoreload.py 16864 4320 Watching for file changes with StatReloader
2024-04-01 16:15:41,662 - INFO - autoreload - autoreload.py 16864 4320 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-01 16:15:46,168 - INFO - autoreload - autoreload.py 5968 12204 Watching for file changes with StatReloader
2024-04-01 16:15:52,903 - INFO - autoreload - autoreload.py 5968 12204 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-01 16:15:55,996 - INFO - autoreload - autoreload.py 252 18440 Watching for file changes with StatReloader
2024-04-01 16:17:06,467 - INFO - autoreload - autoreload.py 252 18440 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-01 16:17:10,396 - INFO - autoreload - autoreload.py 20408 19412 Watching for file changes with StatReloader
2024-04-01 16:17:56,395 - INFO - views - views.py 20408 10904 Login user | test_username2
2024-04-01 16:17:56,418 - INFO - runserver - runserver.py 20408 7628 HTTP GET /api/users/1/ 200 [0.27, 127.0.0.1:50520]
2024-04-01 16:19:05,987 - INFO - views - views.py 20408 7544 Login user | test_username2
2024-04-01 16:19:05,998 - INFO - runserver - runserver.py 20408 7628 HTTP GET /api/users/1/ 200 [0.16, 127.0.0.1:50533]
2024-04-01 16:19:30,213 - INFO - views - views.py 20408 18396 Login user | test_username2
2024-04-01 16:19:30,222 - INFO - runserver - runserver.py 20408 7628 HTTP GET /api/users/2/ 200 [0.15, 127.0.0.1:50533]
2024-04-01 16:19:46,856 - WARNING - log - log.py 20408 13580 Not Found: /api/users/3/
2024-04-01 16:19:46,857 - WARNING - runserver - runserver.py 20408 7628 HTTP GET /api/users/3/ 404 [0.17, 127.0.0.1:50533]
2024-04-02 13:00:07,855 - INFO - autoreload - autoreload.py 16836 10276 Watching for file changes with StatReloader
2024-04-02 13:00:17,468 - WARNING - log - log.py 16836 12156 Not Found: /
2024-04-02 13:00:17,470 - WARNING - runserver - runserver.py 16836 10616 HTTP GET / 404 [1.01, 127.0.0.1:60803]
2024-04-02 13:00:17,636 - WARNING - log - log.py 16836 12156 Not Found: /favicon.ico
2024-04-02 13:00:17,638 - WARNING - runserver - runserver.py 16836 10616 HTTP GET /favicon.ico 404 [0.03, 127.0.0.1:60803]
2024-04-02 13:01:31,002 - INFO - runserver - runserver.py 16836 10616 HTTP GET /api/ 200 [0.03, 127.0.0.1:60807]
2024-04-02 13:01:47,349 - INFO - runserver - runserver.py 16836 10616 HTTP GET /api/users/ 200 [0.33, 127.0.0.1:60807]
2024-04-02 13:03:22,266 - INFO - runserver - runserver.py 16836 10616 HTTP GET /api/schema/ 200 [0.19, 127.0.0.1:60814]
2024-04-02 13:03:40,010 - INFO - runserver - runserver.py 16836 10616 HTTP GET /api/schema/redoc/ 200 [1.16, 127.0.0.1:60814]
2024-04-02 13:03:40,599 - INFO - runserver - runserver.py 16836 10616 HTTP GET /api/schema/ 200 [0.19, 127.0.0.1:60814]
2024-04-02 13:05:27,666 - INFO - runserver - runserver.py 16836 10616 HTTP GET /api/schema/swagger-ui/ 200 [0.21, 127.0.0.1:60828]
2024-04-02 13:05:28,273 - INFO - runserver - runserver.py 16836 10616 HTTP GET /api/schema/ 200 [0.12, 127.0.0.1:60828]
2024-04-02 13:06:47,322 - WARNING - log - log.py 16836 12156 Unauthorized: /api/users/
2024-04-02 13:06:47,323 - WARNING - runserver - runserver.py 16836 10616 HTTP POST /api/users/ 401 [0.01, 127.0.0.1:60831]
2024-04-02 13:07:27,463 - INFO - runserver - runserver.py 16836 10616 HTTP GET /api/schema/redoc/ 200 [0.02, 127.0.0.1:60831]
2024-04-02 13:07:27,862 - INFO - runserver - runserver.py 16836 10616 HTTP GET /api/schema/ 200 [0.16, 127.0.0.1:60831]
2024-04-02 13:09:06,485 - INFO - runserver - runserver.py 16836 10616 HTTP POST /api/auth/login/ 200 [0.88, 127.0.0.1:60945]
2024-04-02 13:16:16,279 - INFO - autoreload - autoreload.py 16836 10276 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-02 13:16:19,050 - INFO - autoreload - autoreload.py 17472 7476 Watching for file changes with StatReloader
2024-04-02 13:16:30,349 - WARNING - log - log.py 17472 12808 Bad Request: /api/auth/reg/
2024-04-02 13:16:30,352 - WARNING - runserver - runserver.py 17472 18100 HTTP POST /api/auth/reg/ 400 [0.19, 127.0.0.1:61024]
2024-04-02 13:18:37,876 - INFO - autoreload - autoreload.py 17472 7476 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-02 13:18:40,496 - INFO - autoreload - autoreload.py 19576 10388 Watching for file changes with StatReloader
2024-04-02 13:18:42,056 - WARNING - log - log.py 19576 1836 Bad Request: /api/auth/reg/
2024-04-02 13:18:42,057 - WARNING - runserver - runserver.py 19576 18644 HTTP POST /api/auth/reg/ 400 [0.09, 127.0.0.1:61051]
2024-04-02 13:19:53,476 - INFO - autoreload - autoreload.py 19576 10388 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-02 13:19:55,515 - INFO - autoreload - autoreload.py 5208 2332 Watching for file changes with StatReloader
2024-04-02 13:19:56,824 - INFO - views - views.py 5208 2664 Post data | {'username': 'test_username3', 'email': 'test2@mail.ru', 'password': '123456', 'password2': '123456'}
2024-04-02 13:19:56,924 - WARNING - log - log.py 5208 11424 Bad Request: /api/auth/reg/
2024-04-02 13:19:56,925 - WARNING - runserver - runserver.py 5208 9648 HTTP POST /api/auth/reg/ 400 [0.11, 127.0.0.1:61075]
2024-04-02 13:21:00,518 - INFO - autoreload - autoreload.py 5208 2332 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-02 13:21:02,421 - INFO - autoreload - autoreload.py 14100 20240 Watching for file changes with StatReloader
2024-04-02 13:21:05,723 - INFO - views - views.py 14100 4288 Post data | {'username': 'test_username3', 'email': 'test2@mail.ru', 'password': '123456', 'password2': '123456'}
2024-04-02 13:21:05,809 - INFO - views - views.py 14100 4288 Post data | {'username': 'test_username3', 'email': 'test2@mail.ru', 'password': '123456', 'password2': '123456'}
2024-04-02 13:21:06,078 - ERROR - log - log.py 14100 18472 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 64, in post
    'user': AccountSerializer(user, context=self.get_serializer()).data,
                              ^^^^
UnboundLocalError: cannot access local variable 'user' where it is not associated with a value
2024-04-02 13:21:06,087 - ERROR - runserver - runserver.py 14100 19128 HTTP POST /api/auth/reg/ 500 [0.38, 127.0.0.1:61096]
2024-04-02 13:22:30,279 - INFO - autoreload - autoreload.py 14100 20240 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-02 13:22:32,492 - INFO - autoreload - autoreload.py 14128 4968 Watching for file changes with StatReloader
2024-04-02 13:22:34,796 - INFO - views - views.py 14128 3504 Post data try | {'username': 'test_username3', 'email': 'test2@mail.ru', 'password': '123456', 'password2': '123456'}
2024-04-02 13:22:34,883 - INFO - views - views.py 14128 3504 Post data except | {'username': 'test_username3', 'email': 'test2@mail.ru', 'password': '123456', 'password2': '123456'}
2024-04-02 13:22:34,936 - ERROR - log - log.py 14128 7908 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 64, in post
    'user': AccountSerializer(user, context=self.get_serializer()).data,
                              ^^^^
UnboundLocalError: cannot access local variable 'user' where it is not associated with a value
2024-04-02 13:22:34,946 - ERROR - runserver - runserver.py 14128 1100 HTTP POST /api/auth/reg/ 500 [0.16, 127.0.0.1:61116]
2024-04-02 13:23:31,894 - INFO - autoreload - autoreload.py 14128 4968 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-02 13:23:34,291 - INFO - autoreload - autoreload.py 13268 11452 Watching for file changes with StatReloader
2024-04-02 13:24:12,052 - INFO - autoreload - autoreload.py 13268 11452 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-02 13:24:14,143 - INFO - autoreload - autoreload.py 8840 18676 Watching for file changes with StatReloader
2024-04-02 13:24:20,769 - ERROR - log - log.py 8840 19168 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 65, in post
    'user': AccountSerializer(user, context=self.get_serializer()).data,
                              ^^^^
UnboundLocalError: cannot access local variable 'user' where it is not associated with a value
2024-04-02 13:24:20,778 - ERROR - runserver - runserver.py 8840 7472 HTTP POST /api/auth/reg/ 500 [0.35, 127.0.0.1:61146]
2024-04-02 13:26:35,028 - INFO - autoreload - autoreload.py 8840 18676 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-02 13:26:37,352 - INFO - autoreload - autoreload.py 3336 18540 Watching for file changes with StatReloader
2024-04-02 13:26:38,644 - INFO - views - views.py 3336 14388 Post data try | {'username': 'test_username3', 'email': 'test2@mail.ru', 'password': '123456', 'password2': '123456'}
2024-04-02 13:26:38,738 - WARNING - log - log.py 3336 8516 Bad Request: /api/auth/reg/
2024-04-02 13:26:38,739 - WARNING - runserver - runserver.py 3336 20048 HTTP POST /api/auth/reg/ 400 [0.10, 127.0.0.1:61159]
2024-04-02 14:32:45,352 - INFO - autoreload - autoreload.py 3336 18540 C:\Users\Alex\PycharmProjects\visual\visual\followers\views.py changed, reloading.
2024-04-02 14:32:49,405 - INFO - autoreload - autoreload.py 15368 19508 Watching for file changes with StatReloader
2024-04-02 14:32:59,931 - INFO - views - views.py 15368 1116 Payment | test2@mail.ru {}
2024-04-02 14:33:00,483 - INFO - runserver - runserver.py 15368 18644 HTTP GET /api/posts/ 200 [0.72, 127.0.0.1:54599]
2024-04-02 14:34:18,986 - INFO - autoreload - autoreload.py 15368 19508 C:\Users\Alex\PycharmProjects\visual\visual\posts\views.py changed, reloading.
2024-04-02 14:34:21,863 - INFO - autoreload - autoreload.py 6444 11292 Watching for file changes with StatReloader
2024-04-02 14:34:29,326 - INFO - views - views.py 6444 18508 PostRetrieve | test2@mail.ru {'name': 'названи10'}
2024-04-02 14:34:29,599 - INFO - runserver - runserver.py 6444 5504 HTTP GET /api/posts/kartinka/ 200 [0.39, 127.0.0.1:54624]
2024-04-04 11:18:53,118 - INFO - autoreload - autoreload.py 21332 19784 Watching for file changes with StatReloader
2024-04-04 11:19:02,163 - INFO - runserver - runserver.py 21332 2504 HTTP POST /api/auth/login/ 200 [1.16, 127.0.0.1:58064]
2024-04-04 11:19:17,452 - INFO - views - views.py 21332 16948 PostList | test2@mail.ru {}
2024-04-04 11:19:17,803 - INFO - runserver - runserver.py 21332 2504 HTTP GET /api/posts/ 200 [0.89, 127.0.0.1:58064]
2024-04-04 11:19:47,902 - INFO - views - views.py 21332 6032 PostCreate | test2@mail.ru <QueryDict: {'name': ['Картинка'], 'tags[0]': ['testtag'], 'tags[1]': ['Картинка'], 'author': ['admin'], 'image': [<InMemoryUploadedFile: f00f54760e3cdff10acbb4df0c00d7a2.jpg (image/jpeg)>, <InMemoryUploadedFile: 8eea983c8a0511eebd34badf81d486ab upscaled.jpg (image/jpeg)>]}>
2024-04-04 11:19:48,610 - INFO - runserver - runserver.py 21332 2504 HTTP POST /api/posts/ 200 [0.78, 127.0.0.1:58064]
2024-04-04 11:19:58,638 - INFO - views - views.py 21332 16456 PostList | test2@mail.ru {}
2024-04-04 11:19:58,671 - INFO - runserver - runserver.py 21332 2504 HTTP GET /api/posts/ 200 [0.10, 127.0.0.1:58064]
2024-04-04 11:20:48,789 - INFO - views - views.py 21332 9540 PostRetrieve | test2@mail.ru {'name': 'названи10'}
2024-04-04 11:20:48,842 - INFO - runserver - runserver.py 21332 2504 HTTP GET /api/posts/kartinka/ 200 [0.13, 127.0.0.1:58064]
2024-04-04 11:21:30,644 - WARNING - log - log.py 21332 17956 Unauthorized: /api/posts/kartinka/likes/
2024-04-04 11:21:30,645 - WARNING - runserver - runserver.py 21332 2504 HTTP GET /api/posts/kartinka/likes/ 401 [0.01, 127.0.0.1:58064]
2024-04-04 11:21:38,808 - ERROR - log - log.py 21332 17956 Internal Server Error: /api/posts/kartinka/likes/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\fields.py", line 446, in get_attribute
    return get_attribute(instance, self.source_attrs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\fields.py", line 94, in get_attribute
    instance = instance[attr]
               ~~~~~~~~^^^^^^
KeyError: 'password'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\posts\mixins.py", line 30, in likes
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 768, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 253, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 686, in to_representation
    return [
           ^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 687, in <listcomp>
    self.child.to_representation(item) for item in iterable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 509, in to_representation
    attribute = field.get_attribute(instance)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\fields.py", line 479, in get_attribute
    raise type(exc)(msg)
KeyError: "Got KeyError when attempting to get a value for field `password` on serializer `LikeSerializer`.\nThe serializer field might be named incorrectly and not match any attribute or key on the `OrderedDict` instance.\nOriginal exception text was: 'password'."
2024-04-04 11:21:38,822 - ERROR - runserver - runserver.py 21332 2504 HTTP GET /api/posts/kartinka/likes/ 500 [1.24, 127.0.0.1:58064]
2024-04-04 11:25:12,402 - INFO - autoreload - autoreload.py 21332 19784 C:\Users\Alex\PycharmProjects\visual\visual\posts\serializers.py changed, reloading.
2024-04-04 11:25:15,422 - INFO - autoreload - autoreload.py 728 9068 Watching for file changes with StatReloader
2024-04-04 11:25:18,132 - ERROR - log - log.py 728 13044 Internal Server Error: /api/posts/kartinka/likes/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\fields.py", line 446, in get_attribute
    return get_attribute(instance, self.source_attrs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\fields.py", line 94, in get_attribute
    instance = instance[attr]
               ~~~~~~~~^^^^^^
KeyError: 'password'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\posts\mixins.py", line 30, in likes
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 768, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 253, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 686, in to_representation
    return [
           ^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 687, in <listcomp>
    self.child.to_representation(item) for item in iterable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 509, in to_representation
    attribute = field.get_attribute(instance)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\fields.py", line 479, in get_attribute
    raise type(exc)(msg)
KeyError: "Got KeyError when attempting to get a value for field `password` on serializer `LikeSerializer`.\nThe serializer field might be named incorrectly and not match any attribute or key on the `OrderedDict` instance.\nOriginal exception text was: 'password'."
2024-04-04 11:25:18,144 - ERROR - runserver - runserver.py 728 6668 HTTP GET /api/posts/kartinka/likes/ 500 [0.36, 127.0.0.1:58165]
2024-04-04 11:26:01,232 - INFO - autoreload - autoreload.py 2396 20960 Watching for file changes with StatReloader
2024-04-04 11:26:17,965 - ERROR - log - log.py 2396 10768 Internal Server Error: /api/posts/kartinka/likes/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\fields.py", line 446, in get_attribute
    return get_attribute(instance, self.source_attrs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\fields.py", line 94, in get_attribute
    instance = instance[attr]
               ~~~~~~~~^^^^^^
KeyError: 'password'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\posts\mixins.py", line 30, in likes
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 768, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 253, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 686, in to_representation
    return [
           ^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 687, in <listcomp>
    self.child.to_representation(item) for item in iterable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 509, in to_representation
    attribute = field.get_attribute(instance)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\fields.py", line 479, in get_attribute
    raise type(exc)(msg)
KeyError: "Got KeyError when attempting to get a value for field `password` on serializer `LikeSerializer`.\nThe serializer field might be named incorrectly and not match any attribute or key on the `OrderedDict` instance.\nOriginal exception text was: 'password'."
2024-04-04 11:26:17,983 - ERROR - runserver - runserver.py 2396 10836 HTTP GET /api/posts/kartinka/likes/ 500 [0.46, 127.0.0.1:58188]
2024-04-04 11:29:04,377 - INFO - autoreload - autoreload.py 2396 20960 C:\Users\Alex\PycharmProjects\visual\visual\posts\serializers.py changed, reloading.
2024-04-04 11:29:28,316 - INFO - autoreload - autoreload.py 9992 10608 Watching for file changes with StatReloader
2024-04-04 11:30:21,427 - ERROR - log - log.py 9992 10196 Internal Server Error: /api/posts/kartinka/likes/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\fields.py", line 446, in get_attribute
    return get_attribute(instance, self.source_attrs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\fields.py", line 94, in get_attribute
    instance = instance[attr]
               ~~~~~~~~^^^^^^
KeyError: 'password'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\posts\mixins.py", line 30, in likes
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 768, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 253, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 686, in to_representation
    return [
           ^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 687, in <listcomp>
    self.child.to_representation(item) for item in iterable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 509, in to_representation
    attribute = field.get_attribute(instance)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\fields.py", line 479, in get_attribute
    raise type(exc)(msg)
KeyError: "Got KeyError when attempting to get a value for field `password` on serializer `LikeSerializer`.\nThe serializer field might be named incorrectly and not match any attribute or key on the `OrderedDict` instance.\nOriginal exception text was: 'password'."
2024-04-04 11:30:21,443 - ERROR - runserver - runserver.py 9992 11676 HTTP GET /api/posts/kartinka/likes/ 500 [51.23, 127.0.0.1:58224]
2024-04-04 11:30:56,941 - INFO - views - views.py 9992 1108 PostRetrieve | test2@mail.ru {'name': 'названи10'}
2024-04-04 11:32:06,664 - INFO - runserver - runserver.py 9992 11676 HTTP GET /api/posts/kartinka/ 200 [69.80, 127.0.0.1:58224]
2024-04-04 11:41:31,271 - INFO - autoreload - autoreload.py 9992 10608 C:\Users\Alex\PycharmProjects\visual\visual\posts\mixins.py changed, reloading.
2024-04-04 11:41:35,044 - INFO - autoreload - autoreload.py 6032 19916 Watching for file changes with StatReloader
2024-04-04 11:43:15,789 - INFO - autoreload - autoreload.py 6032 19916 C:\Users\Alex\PycharmProjects\visual\visual\posts\mixins.py changed, reloading.
2024-04-04 11:43:19,345 - INFO - autoreload - autoreload.py 6236 1220 Watching for file changes with StatReloader
2024-04-04 11:43:21,722 - INFO - views - views.py 6236 16712 PostRetrieve | test2@mail.ru {'name': 'названи10'}
2024-04-04 11:43:27,152 - INFO - runserver - runserver.py 6236 16800 HTTP GET /api/posts/kartinka/ 200 [5.62, 127.0.0.1:58425]
2024-04-04 11:43:38,474 - INFO - runserver - runserver.py 6236 16800 HTTP GET /api/posts/kartinka/likes/ 200 [2.35, 127.0.0.1:58425]
2024-04-04 11:46:00,932 - INFO - autoreload - autoreload.py 6236 1220 C:\Users\Alex\PycharmProjects\visual\visual\posts\mixins.py changed, reloading.
2024-04-04 11:46:04,055 - INFO - autoreload - autoreload.py 16984 10256 Watching for file changes with StatReloader
2024-04-04 12:02:48,312 - INFO - autoreload - autoreload.py 16984 10256 C:\Users\Alex\PycharmProjects\visual\visual\visual\settings.py changed, reloading.
2024-04-04 12:02:52,089 - INFO - autoreload - autoreload.py 18052 13436 Watching for file changes with StatReloader
2024-04-04 12:03:46,956 - INFO - autoreload - autoreload.py 18052 13436 C:\Users\Alex\PycharmProjects\visual\visual\visual\settings.py changed, reloading.
2024-04-04 12:03:50,548 - INFO - autoreload - autoreload.py 20172 8048 Watching for file changes with StatReloader
2024-04-04 12:04:38,515 - INFO - autoreload - autoreload.py 20172 8048 C:\Users\Alex\PycharmProjects\visual\visual\visual\settings.py changed, reloading.
2024-04-04 12:04:41,815 - INFO - autoreload - autoreload.py 16816 1204 Watching for file changes with StatReloader
2024-04-04 12:59:29,349 - INFO - autoreload - autoreload.py 16816 1204 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-04 12:59:35,738 - INFO - autoreload - autoreload.py 11592 10596 Watching for file changes with StatReloader
2024-04-04 13:00:11,236 - INFO - autoreload - autoreload.py 18348 17312 Watching for file changes with StatReloader
2024-04-04 13:02:52,652 - INFO - autoreload - autoreload.py 1692 17976 Watching for file changes with StatReloader
2024-04-04 13:03:07,668 - INFO - autoreload - autoreload.py 16744 8688 Watching for file changes with StatReloader
2024-04-04 13:08:00,776 - INFO - autoreload - autoreload.py 16744 8688 C:\Users\Alex\PycharmProjects\visual\visual\visual\settings.py changed, reloading.
2024-04-04 13:08:03,373 - INFO - autoreload - autoreload.py 11240 1976 Watching for file changes with StatReloader
2024-04-04 13:08:14,492 - INFO - autoreload - autoreload.py 14284 1808 Watching for file changes with StatReloader
2024-04-04 13:09:07,658 - INFO - autoreload - autoreload.py 14284 1808 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-04 13:09:09,214 - INFO - autoreload - autoreload.py 9848 11676 Watching for file changes with StatReloader
2024-04-04 13:10:22,359 - INFO - autoreload - autoreload.py 9848 11676 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-04 13:10:24,558 - INFO - autoreload - autoreload.py 5324 3296 Watching for file changes with StatReloader
2024-04-04 13:11:14,585 - INFO - autoreload - autoreload.py 13112 18164 Watching for file changes with StatReloader
2024-04-04 13:11:17,334 - INFO - views - views.py 13112 13820 Post data try | {'username': 'test_username3', 'email': 'test3@mail.ru', 'password': '123456', 'password2': '123456'}
2024-04-04 13:15:23,955 - ERROR - log - log.py 13112 9408 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: ОШИБКА:  отношение "django_site" не существует
LINE 1: ..."django_site"."domain", "django_site"."name" FROM "django_si...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 59, in post
    user = serializer.save()
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 212, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py", line 45, in create
    current_site = Site.objects.get_current().domain
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\contrib\sites\models.py", line 59, in get_current
    return self._get_site_by_id(site_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\contrib\sites\models.py", line 30, in _get_site_by_id
    site = self.get(pk=site_id)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: ОШИБКА:  отношение "django_site" не существует
LINE 1: ..."django_site"."domain", "django_site"."name" FROM "django_si...
                                                             ^

2024-04-04 13:15:24,005 - ERROR - runserver - runserver.py 13112 10196 HTTP POST /api/auth/reg/ 500 [246.71, 127.0.0.1:59786]
2024-04-04 13:16:49,360 - INFO - autoreload - autoreload.py 13112 18164 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-04 13:16:53,080 - INFO - autoreload - autoreload.py 4968 17352 Watching for file changes with StatReloader
2024-04-04 13:17:14,089 - INFO - autoreload - autoreload.py 4968 17352 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-04 13:17:17,210 - INFO - autoreload - autoreload.py 16452 20900 Watching for file changes with StatReloader
2024-04-04 13:17:57,673 - INFO - autoreload - autoreload.py 16452 20900 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-04 13:18:01,520 - INFO - autoreload - autoreload.py 11292 17780 Watching for file changes with StatReloader
2024-04-04 13:18:03,315 - INFO - views - views.py 11292 18812 Post data try | {'username': 'test_username3', 'email': 'test3@mail.ru', 'password': '123456', 'password2': '123456'}
2024-04-04 13:18:03,416 - WARNING - log - log.py 11292 16480 Bad Request: /api/auth/reg/
2024-04-04 13:18:03,418 - WARNING - runserver - runserver.py 11292 16668 HTTP POST /api/auth/reg/ 400 [0.13, 127.0.0.1:59903]
2024-04-04 13:19:35,674 - INFO - autoreload - autoreload.py 11292 17780 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-04 13:19:40,481 - INFO - autoreload - autoreload.py 19048 11548 Watching for file changes with StatReloader
2024-04-04 13:19:57,347 - INFO - autoreload - autoreload.py 19048 11548 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-04 13:20:01,036 - INFO - autoreload - autoreload.py 21092 20368 Watching for file changes with StatReloader
2024-04-04 13:20:49,592 - INFO - views - views.py 21092 7924 Post data try | {'username': 'test_username3', 'email': 'test3@mail.ru', 'password': '123456', 'password2': '123456'}
2024-04-04 13:20:49,966 - ERROR - log - log.py 21092 7796 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 59, in post
    user = serializer.save(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: BaseSerializer.save() takes 1 positional argument but 2 were given
2024-04-04 13:20:49,978 - ERROR - runserver - runserver.py 21092 10940 HTTP POST /api/auth/reg/ 500 [0.42, 127.0.0.1:60194]
2024-04-04 13:21:22,070 - INFO - autoreload - autoreload.py 21092 20368 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-04 13:21:27,018 - INFO - autoreload - autoreload.py 9236 5824 Watching for file changes with StatReloader
2024-04-04 13:21:31,151 - INFO - views - views.py 9236 15640 Post data try | {'username': 'test_username3', 'email': 'test3@mail.ru', 'password': '123456', 'password2': '123456'}
2024-04-04 13:21:31,734 - INFO - autoreload - autoreload.py 9236 5824 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-04 13:21:50,686 - INFO - autoreload - autoreload.py 2924 12128 Watching for file changes with StatReloader
2024-04-04 13:22:00,946 - INFO - autoreload - autoreload.py 2032 20984 Watching for file changes with StatReloader
2024-04-04 13:22:13,066 - INFO - views - views.py 2032 7848 Post data try | {'username': 'test_username3', 'email': 'test3@mail.ru', 'password': '123456', 'password2': '123456'}
2024-04-04 13:28:00,078 - INFO - autoreload - autoreload.py 15636 19256 Watching for file changes with StatReloader
2024-04-04 13:28:05,543 - INFO - views - views.py 15636 6184 Post data try | {'username': 'test_username3', 'email': 'test3@mail.ru', 'password': '123456', 'password2': '123456'}
2024-04-04 13:31:47,269 - INFO - autoreload - autoreload.py 15636 19256 C:\Users\Alex\PycharmProjects\visual\visual\accounts\urls.py changed, reloading.
2024-04-04 13:33:16,903 - INFO - autoreload - autoreload.py 20856 8912 Watching for file changes with StatReloader
2024-04-04 13:33:49,736 - INFO - autoreload - autoreload.py 2916 19572 Watching for file changes with StatReloader
2024-04-04 13:34:04,676 - INFO - views - views.py 2916 7492 Post data try | {'username': 'test_username3', 'email': 'test3@mail.ru', 'password': '123456', 'password2': '123456'}
2024-04-04 13:35:16,401 - INFO - runserver - runserver.py 2916 16668 HTTP POST /api/auth/reg/ 200 [71.76, 127.0.0.1:60480]
2024-04-04 13:37:51,218 - INFO - views - views.py 2916 6256 Post data try | {'username': 'test_username3', 'email': 'aatevs@gmail.com', 'password': '123456', 'password2': '123456'}
2024-04-04 13:38:12,350 - INFO - runserver - runserver.py 2916 16668 HTTP POST /api/auth/reg/ 200 [21.14, 127.0.0.1:60570]
2024-04-04 13:51:22,993 - INFO - autoreload - autoreload.py 2916 19572 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-04 13:51:28,231 - INFO - autoreload - autoreload.py 2396 1096 Watching for file changes with StatReloader
2024-04-04 13:54:32,737 - INFO - autoreload - autoreload.py 2396 1096 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-04 13:54:37,586 - INFO - autoreload - autoreload.py 21376 17804 Watching for file changes with StatReloader
2024-04-04 13:54:45,380 - WARNING - log - log.py 21376 14640 Not Found: /confirm-email/Ng/c4yoj6-c36198a8f3ee29d4bcdeae8ea3491f5c/
2024-04-04 13:54:45,384 - WARNING - runserver - runserver.py 21376 15576 HTTP GET /confirm-email/Ng/c4yoj6-c36198a8f3ee29d4bcdeae8ea3491f5c/ 404 [0.34, 127.0.0.1:60976]
2024-04-04 13:55:07,925 - WARNING - log - log.py 21376 14640 Unauthorized: /api/confirm-email/Ng/c4yoj6-c36198a8f3ee29d4bcdeae8ea3491f5c/
2024-04-04 13:55:07,927 - WARNING - runserver - runserver.py 21376 15576 HTTP GET /api/confirm-email/Ng/c4yoj6-c36198a8f3ee29d4bcdeae8ea3491f5c/ 401 [0.02, 127.0.0.1:60976]
2024-04-04 13:56:21,530 - INFO - autoreload - autoreload.py 21376 17804 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-04 13:56:25,169 - INFO - autoreload - autoreload.py 13240 20988 Watching for file changes with StatReloader
2024-04-04 13:57:13,644 - INFO - runserver - runserver.py 13240 19976 HTTP GET /api/confirm-email/Ng/c4yoj6-c36198a8f3ee29d4bcdeae8ea3491f5c/ 200 [46.41, 127.0.0.1:61014]
2024-04-04 13:58:44,417 - INFO - autoreload - autoreload.py 13240 20988 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-04 13:58:47,922 - INFO - autoreload - autoreload.py 11220 15620 Watching for file changes with StatReloader
2024-04-04 13:59:25,394 - INFO - autoreload - autoreload.py 11220 15620 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-04 13:59:29,441 - INFO - autoreload - autoreload.py 15908 1828 Watching for file changes with StatReloader
2024-04-05 15:46:17,073 - INFO - autoreload - autoreload.py 2844 8072 Watching for file changes with StatReloader
2024-04-05 16:09:03,170 - INFO - autoreload - autoreload.py 20760 10324 Watching for file changes with StatReloader
2024-04-05 16:26:58,332 - INFO - autoreload - autoreload.py 1088 4500 Watching for file changes with StatReloader
2024-04-05 17:03:49,951 - INFO - autoreload - autoreload.py 1088 4500 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-05 17:03:54,802 - INFO - autoreload - autoreload.py 19500 19772 Watching for file changes with StatReloader
2024-04-05 17:07:49,937 - INFO - autoreload - autoreload.py 19500 19772 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-05 17:11:17,793 - INFO - autoreload - autoreload.py 20680 8368 Watching for file changes with StatReloader
2024-04-05 17:12:08,526 - INFO - runserver - runserver.py 20680 18700 HTTP GET /api/auth/reg?code=3f02ae1717c625c83a 301 [1.11, 127.0.0.1:56619]
2024-04-05 17:12:19,452 - INFO - runserver - runserver.py 20680 18700 HTTP GET /api/auth/reg/?code=3f02ae1717c625c83a 302 [10.91, 127.0.0.1:56619]
2024-04-05 17:13:23,420 - INFO - autoreload - autoreload.py 20680 8368 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-05 17:13:27,459 - INFO - autoreload - autoreload.py 21368 11160 Watching for file changes with StatReloader
2024-04-05 17:13:47,392 - INFO - runserver - runserver.py 21368 2848 HTTP GET /api/auth/reg/?code=684e601fdbc5a63fd9 302 [11.18, 127.0.0.1:56635]
2024-04-05 17:14:55,349 - INFO - autoreload - autoreload.py 21368 11160 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-05 17:14:58,832 - INFO - autoreload - autoreload.py 6712 16680 Watching for file changes with StatReloader
2024-04-05 17:22:51,954 - ERROR - log - log.py 6712 4348 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
AssertionError: Expected a `Response`, `HttpResponse` or `HttpStreamingResponse` to be returned from the view, but received a `<class 'NoneType'>`
2024-04-05 17:22:51,967 - ERROR - runserver - runserver.py 6712 8300 HTTP GET /api/auth/reg/?code=7abd10d8536a012339 500 [453.46, 127.0.0.1:56661]
2024-04-05 17:22:52,169 - WARNING - log - log.py 6712 4348 Not Found: /favicon.ico
2024-04-05 17:22:52,172 - WARNING - runserver - runserver.py 6712 8300 HTTP GET /favicon.ico 404 [0.06, 127.0.0.1:56661]
2024-04-05 18:10:26,632 - ERROR - log - log.py 6712 4348 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
AssertionError: Expected a `Response`, `HttpResponse` or `HttpStreamingResponse` to be returned from the view, but received a `<class 'NoneType'>`
2024-04-05 18:10:26,648 - ERROR - runserver - runserver.py 6712 8300 HTTP GET /api/auth/reg/?code=3dbc384c9dca72957a 500 [1114.18, 127.0.0.1:57079]
2024-04-05 18:12:16,194 - INFO - autoreload - autoreload.py 8572 16872 Watching for file changes with StatReloader
2024-04-05 18:12:24,357 - INFO - runserver - runserver.py 8572 14648 HTTP POST /api/auth/login/ 200 [0.79, 127.0.0.1:57459]
2024-04-05 18:12:45,898 - INFO - runserver - runserver.py 8572 14648 WebSocket HANDSHAKING /ws/chat/1/ [127.0.0.1:57464]
2024-04-05 18:13:54,446 - INFO - runserver - runserver.py 8572 14648 WebSocket REJECT /ws/chat/1/ [127.0.0.1:57464]
2024-04-05 18:13:59,162 - INFO - autoreload - autoreload.py 8572 16872 C:\Users\Alex\PycharmProjects\visual\visual\chat\tokenauth_middleware.py changed, reloading.
2024-04-05 18:14:02,769 - INFO - autoreload - autoreload.py 10000 11120 Watching for file changes with StatReloader
2024-04-05 18:14:04,833 - INFO - runserver - runserver.py 10000 15192 WebSocket HANDSHAKING /ws/chat/1/ [127.0.0.1:57487]
2024-04-05 18:25:36,431 - INFO - runserver - runserver.py 10000 15192 WebSocket REJECT /ws/chat/1/ [127.0.0.1:57487]
2024-04-05 18:25:36,433 - INFO - runserver - runserver.py 10000 15192 WebSocket DISCONNECT /ws/chat/1/ [127.0.0.1:57487]
2024-04-05 18:30:55,251 - INFO - autoreload - autoreload.py 10000 11120 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-05 18:30:58,992 - INFO - autoreload - autoreload.py 16092 912 Watching for file changes with StatReloader
2024-04-05 18:33:06,134 - INFO - autoreload - autoreload.py 14556 18232 Watching for file changes with StatReloader
2024-04-05 18:34:42,249 - ERROR - log - log.py 14556 8084 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\request.py", line 416, in __getattr__
    return getattr(self._request, attr)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ASGIRequest' object has no attribute 'post'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 73, in get
    response = request.post(f'https://oauth.vk.com/access_token?client_id=51895987&client_secret=R7N5jmhZLiaKq8n44jgW&redirect_uri=http://localhost/api/auth/reg/&code={token}')
               ^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\request.py", line 418, in __getattr__
    return self.__getattribute__(attr)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute 'post'
2024-04-05 18:34:42,266 - ERROR - runserver - runserver.py 14556 16720 HTTP GET /api/auth/reg/?code=a5351f5eb9e3df6225 500 [79.18, 127.0.0.1:57700]
2024-04-05 18:35:47,996 - ERROR - log - log.py 14556 8084 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\request.py", line 416, in __getattr__
    return getattr(self._request, attr)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ASGIRequest' object has no attribute 'post'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 73, in get
    response = request.post(f'https://oauth.vk.com/access_token?client_id=51895987&client_secret=R7N5jmhZLiaKq8n44jgW&redirect_uri=http://localhost/api/auth/reg/&code={token}')
               ^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\request.py", line 418, in __getattr__
    return self.__getattribute__(attr)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute 'post'
2024-04-05 18:35:48,011 - ERROR - runserver - runserver.py 14556 16720 HTTP GET /api/auth/reg/?code=e66943215cfc7af7fb 500 [32.08, 127.0.0.1:57700]
2024-04-05 18:38:44,612 - INFO - autoreload - autoreload.py 14556 18232 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-05 18:38:48,472 - INFO - autoreload - autoreload.py 17788 8988 Watching for file changes with StatReloader
2024-04-05 18:40:41,617 - INFO - autoreload - autoreload.py 17788 8988 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-05 18:42:05,181 - INFO - autoreload - autoreload.py 12932 17444 Watching for file changes with StatReloader
2024-04-05 18:43:35,630 - ERROR - log - log.py 12932 13376 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 78, in get
    token_acces = redirect()
                  ^^^^^^^^^^
TypeError: redirect() missing 1 required positional argument: 'to'
2024-04-05 18:43:35,653 - ERROR - runserver - runserver.py 12932 1460 HTTP GET /api/auth/reg/?code=b130b0576fbcbee8fe 500 [65.12, 127.0.0.1:57928]
2024-04-05 18:43:38,883 - INFO - autoreload - autoreload.py 12932 17444 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-05 18:43:42,761 - INFO - autoreload - autoreload.py 11944 21064 Watching for file changes with StatReloader
2024-04-05 18:45:21,343 - ERROR - log - log.py 11944 6168 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
AssertionError: Expected a `Response`, `HttpResponse` or `HttpStreamingResponse` to be returned from the view, but received a `<class 'NoneType'>`
2024-04-05 18:45:21,361 - ERROR - runserver - runserver.py 11944 19792 HTTP GET /api/auth/reg/?code=4b309de42b8430d202 500 [92.15, 127.0.0.1:57946]
2024-04-08 15:23:01,975 - INFO - autoreload - autoreload.py 18952 13616 Watching for file changes with StatReloader
2024-04-08 15:23:42,156 - INFO - views - views.py 18952 11616 Post data try | {'username': 'test_username4', 'email': 'aatev@gmail.com', 'password': '123456', 'password2': '123456'}
2024-04-08 15:24:27,667 - INFO - autoreload - autoreload.py 7296 10620 Watching for file changes with StatReloader
2024-04-08 15:24:31,527 - INFO - autoreload - autoreload.py 7296 10620 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-08 15:24:34,812 - INFO - autoreload - autoreload.py 19204 19496 Watching for file changes with StatReloader
2024-04-08 15:25:02,059 - INFO - autoreload - autoreload.py 19204 19496 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-08 15:25:05,592 - INFO - autoreload - autoreload.py 5000 17988 Watching for file changes with StatReloader
2024-04-08 15:25:12,804 - INFO - views - views.py 5000 15812 Post data try | {'username': 'test_username4', 'email': 'aatev@gmail.com', 'password': '123456', 'password2': '123456'}
2024-04-08 15:27:03,944 - INFO - autoreload - autoreload.py 5000 17988 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-08 15:27:45,617 - INFO - autoreload - autoreload.py 20104 2728 Watching for file changes with StatReloader
2024-04-08 15:27:53,411 - INFO - views - views.py 20104 9996 Post data try | {'username': 'test_username4', 'email': 'aatev@gmail.com', 'password': '123456', 'password2': '123456'}
2024-04-08 15:43:17,904 - INFO - autoreload - autoreload.py 1900 13704 Watching for file changes with StatReloader
2024-04-08 15:43:25,609 - INFO - views - views.py 1900 19132 Post data try | {'username': 'test_username4', 'email': 'aatev@gmail.com', 'password': '123456', 'password2': '123456'}
2024-04-08 16:00:22,124 - INFO - autoreload - autoreload.py 20096 18760 Watching for file changes with StatReloader
2024-04-08 16:01:43,384 - INFO - autoreload - autoreload.py 11460 10860 Watching for file changes with StatReloader
2024-04-08 16:02:04,980 - INFO - views - views.py 11460 20296 Post data try | {'username': 'test_username4', 'email': 'aatev@gmail.com', 'password': '123456', 'password2': '123456'}
2024-04-09 12:26:41,170 - INFO - autoreload - autoreload.py 25908 11916 Watching for file changes with StatReloader
2024-04-09 12:27:50,877 - INFO - autoreload - autoreload.py 22476 1724 Watching for file changes with StatReloader
2024-04-09 12:29:26,373 - INFO - autoreload - autoreload.py 1060 11332 Watching for file changes with StatReloader
2024-04-09 12:30:51,477 - INFO - autoreload - autoreload.py 23512 13192 Watching for file changes with StatReloader
2024-04-09 12:33:30,552 - INFO - autoreload - autoreload.py 28480 27808 Watching for file changes with StatReloader
2024-04-09 12:37:46,458 - INFO - runserver - runserver.py 28480 18204 HTTP GET /api/auth/reg/redirect/ 302 [245.61, 127.0.0.1:54880]
2024-04-09 13:59:34,841 - INFO - autoreload - autoreload.py 28480 27808 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-09 14:00:28,414 - INFO - autoreload - autoreload.py 3896 3644 Watching for file changes with StatReloader
2024-04-09 14:00:40,742 - INFO - runserver - runserver.py 3896 22228 HTTP GET /api/auth/reg/redirect/ 200 [7.08, 127.0.0.1:56028]
2024-04-09 14:02:15,068 - ERROR - log - log.py 3896 748 Internal Server Error: /api/auth/reg/callback/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
AssertionError: Expected a `Response`, `HttpResponse` or `HttpStreamingResponse` to be returned from the view, but received a `<class 'NoneType'>`
2024-04-09 14:02:15,084 - ERROR - runserver - runserver.py 3896 22228 HTTP GET /api/auth/reg/callback/?code=28ab4912eea5db7929&state=HvhPNbkWTROShaKaQTRXEzhrJmWUXR 500 [64.31, 127.0.0.1:56051]
2024-04-09 14:02:15,440 - WARNING - log - log.py 3896 748 Not Found: /favicon.ico
2024-04-09 14:02:15,442 - WARNING - runserver - runserver.py 3896 22228 HTTP GET /favicon.ico 404 [0.17, 127.0.0.1:56051]
2024-04-09 14:05:22,646 - INFO - autoreload - autoreload.py 3896 3644 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-09 14:05:27,689 - INFO - autoreload - autoreload.py 6920 22028 Watching for file changes with StatReloader
2024-04-09 14:06:39,271 - INFO - autoreload - autoreload.py 6920 22028 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-09 14:06:43,310 - INFO - autoreload - autoreload.py 25056 7232 Watching for file changes with StatReloader
2024-04-09 14:43:15,952 - INFO - autoreload - autoreload.py 5588 9716 Watching for file changes with StatReloader
2024-04-09 14:43:44,306 - INFO - autoreload - autoreload.py 13944 18968 Watching for file changes with StatReloader
2024-04-09 14:43:52,473 - INFO - runserver - runserver.py 13944 3644 HTTP POST /api/auth/login/ 200 [0.80, 127.0.0.1:56627]
2024-04-09 14:45:55,706 - INFO - views - views.py 13944 21464 PostCreate | test2@mail.ru <QueryDict: {'name': ['Картинка'], 'tags[0]': ['testtag'], 'tags[1]': ['Картинка'], 'author': ['admin'], 'image': [<TemporaryUploadedFile: 7-image.png (image/png)>, <TemporaryUploadedFile: 8eea983c8a0511eebd34badf81d486ab upscaled.jpg (image/jpeg)>]}>
2024-04-09 14:45:57,094 - INFO - runserver - runserver.py 13944 3644 HTTP POST /api/posts/ 200 [1.60, 127.0.0.1:56674]
2024-04-09 14:51:47,172 - INFO - views - views.py 13944 8032 PostCreate | test2@mail.ru <QueryDict: {'name': ['Картинка'], 'author': ['admin'], 'image': [<TemporaryUploadedFile: 7-image.png (image/png)>, <TemporaryUploadedFile: 8eea983c8a0511eebd34badf81d486ab upscaled.jpg (image/jpeg)>]}>
2024-04-09 14:51:47,179 - INFO - runserver - runserver.py 13944 3644 HTTP POST /api/posts/ 200 [0.13, 127.0.0.1:56718]
2024-04-09 14:52:30,272 - INFO - views - views.py 13944 17084 PostCreate | test2@mail.ru <QueryDict: {'name': ['Картинка'], 'author': ['admin'], 'image': [<TemporaryUploadedFile: 7-image.png (image/png)>, <TemporaryUploadedFile: 8eea983c8a0511eebd34badf81d486ab upscaled.jpg (image/jpeg)>]}>
2024-04-09 14:52:30,280 - INFO - runserver - runserver.py 13944 3644 HTTP POST /api/posts/ 200 [0.12, 127.0.0.1:56718]
2024-04-09 14:53:16,711 - INFO - autoreload - autoreload.py 1516 1188 Watching for file changes with StatReloader
2024-04-09 14:53:21,730 - INFO - views - views.py 1516 15284 PostCreate | test2@mail.ru <QueryDict: {'name': ['Картинка'], 'author': ['admin'], 'image': [<TemporaryUploadedFile: 7-image.png (image/png)>, <TemporaryUploadedFile: 8eea983c8a0511eebd34badf81d486ab upscaled.jpg (image/jpeg)>]}>
2024-04-09 14:57:35,831 - INFO - autoreload - autoreload.py 16496 2644 Watching for file changes with StatReloader
2024-04-09 14:57:44,931 - INFO - views - views.py 16496 8904 PostCreate | test2@mail.ru <QueryDict: {'name': ['Картинка'], 'author': ['admin'], 'image': [<TemporaryUploadedFile: 7-image.png (image/png)>, <TemporaryUploadedFile: 8eea983c8a0511eebd34badf81d486ab upscaled.jpg (image/jpeg)>]}>
2024-04-09 14:59:17,000 - INFO - autoreload - autoreload.py 9336 16940 Watching for file changes with StatReloader
2024-04-09 14:59:23,320 - INFO - views - views.py 9336 13704 PostCreate | test2@mail.ru <QueryDict: {'name': ['Картинка'], 'author': ['admin'], 'image': [<TemporaryUploadedFile: 7-image.png (image/png)>, <TemporaryUploadedFile: 8eea983c8a0511eebd34badf81d486ab upscaled.jpg (image/jpeg)>]}>
2024-04-09 15:01:36,701 - INFO - runserver - runserver.py 9336 16560 HTTP POST /api/posts/ 200 [133.63, 127.0.0.1:56832]
2024-04-09 15:26:54,099 - INFO - runserver - runserver.py 9336 16560 HTTP GET /api/auth/reg/redirect/ 200 [8.59, 127.0.0.1:50626]
2024-04-09 15:28:42,011 - INFO - autoreload - autoreload.py 14188 28512 Watching for file changes with StatReloader
2024-04-09 15:28:51,880 - INFO - runserver - runserver.py 14188 23760 HTTP GET /api/auth/reg/redirect/ 200 [4.99, 127.0.0.1:50670]
2024-04-09 15:29:40,953 - INFO - autoreload - autoreload.py 14968 21268 Watching for file changes with StatReloader
2024-04-09 15:29:47,213 - INFO - runserver - runserver.py 14968 7224 HTTP GET /api/auth/reg/redirect/ 200 [2.38, 127.0.0.1:50704]
2024-04-09 16:46:27,564 - INFO - autoreload - autoreload.py 2848 5560 Watching for file changes with StatReloader
2024-04-09 16:46:42,071 - INFO - autoreload - autoreload.py 16000 18616 Watching for file changes with StatReloader
2024-04-09 16:46:50,493 - INFO - runserver - runserver.py 16000 3768 HTTP GET /api/auth/reg/redirect/ 200 [5.29, 127.0.0.1:51110]
2024-04-09 16:47:06,893 - WARNING - log - log.py 16000 6188 Unauthorized: /api/auth/reg/callback/
2024-04-09 16:47:06,896 - WARNING - runserver - runserver.py 16000 3768 HTTP GET /api/auth/reg/callback/?code=8a30246adccefa3865&state=PGncTyTdTTfyuEPpaTUZSHVScJDPUD 401 [0.02, 127.0.0.1:51131]
2024-04-09 16:48:35,524 - INFO - autoreload - autoreload.py 16000 18616 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-09 16:48:39,554 - INFO - autoreload - autoreload.py 15736 5428 Watching for file changes with StatReloader
2024-04-09 16:49:20,232 - INFO - autoreload - autoreload.py 17664 6508 Watching for file changes with StatReloader
2024-04-09 16:49:32,711 - INFO - runserver - runserver.py 17664 18604 HTTP GET /api/auth/reg/redirect/ 200 [2.35, 127.0.0.1:51176]
2024-04-09 16:52:27,092 - WARNING - log - log.py 17664 4052 Bad Request: /api/auth/reg/callback/
2024-04-09 16:52:27,094 - WARNING - runserver - runserver.py 17664 18604 HTTP GET /api/auth/reg/callback/?code=e019bd6efbe431b2e9&state=jtAbYuNuuqPmJsaxFisqIyJyrQIgfN 400 [145.01, 127.0.0.1:51187]
2024-04-09 16:53:57,143 - INFO - autoreload - autoreload.py 17664 6508 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-09 16:54:01,067 - INFO - autoreload - autoreload.py 17860 14592 Watching for file changes with StatReloader
2024-04-09 16:55:18,974 - INFO - runserver - runserver.py 17860 17932 HTTP GET /api/auth/reg/redirect/ 200 [70.70, 127.0.0.1:51241]
2024-04-09 16:58:19,008 - ERROR - log - log.py 17860 7752 Internal Server Error: /api/auth/reg/callback/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 133, in get
    vk_access_token = vk_login.get_token(code=code)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py", line 78, in get_token
    raise "Failed to obtain access token from Google."
TypeError: exceptions must derive from BaseException
2024-04-09 16:58:19,020 - ERROR - runserver - runserver.py 17860 17932 HTTP GET /api/auth/reg/callback/?code=42dce68d36da50bd1c&state=TXkRUUqZylFbluDyZMDTxbQAPSSlVH 500 [161.79, 127.0.0.1:51260]
2024-04-09 16:58:20,145 - INFO - autoreload - autoreload.py 17860 14592 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-09 16:58:23,992 - INFO - autoreload - autoreload.py 13728 3348 Watching for file changes with StatReloader
2024-04-09 16:58:30,269 - INFO - runserver - runserver.py 13728 9552 HTTP GET /api/auth/reg/redirect/ 200 [3.79, 127.0.0.1:51295]
2024-04-09 17:01:04,472 - ERROR - log - log.py 13728 15552 Internal Server Error: /api/auth/reg/callback/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 284, in _get_response_async
    response = await sync_to_async(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\template\response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\response.py", line 70, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\renderers.py", line 99, in render
    ret = json.dumps(
          ^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\utils\json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\utils\encoders.py", line 67, in default
    return super().default(obj)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2024-04-09 17:01:04,492 - ERROR - runserver - runserver.py 13728 9552 HTTP GET /api/auth/reg/callback/?code=cab0c5ac2db71fb70b&state=nJKFzkBuZrySKpNNHroErPBMZtINmE 500 [144.14, 127.0.0.1:51305]
2024-04-09 17:04:20,587 - INFO - runserver - runserver.py 13728 9552 HTTP GET /api/auth/reg/redirect/ 200 [2.25, 127.0.0.1:51350]
2024-04-09 17:07:06,313 - ERROR - log - log.py 13728 15552 Internal Server Error: /api/auth/reg/callback/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 284, in _get_response_async
    response = await sync_to_async(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\template\response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\response.py", line 70, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\renderers.py", line 99, in render
    ret = json.dumps(
          ^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\utils\json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\utils\encoders.py", line 67, in default
    return super().default(obj)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2024-04-09 17:07:06,321 - ERROR - runserver - runserver.py 13728 9552 HTTP GET /api/auth/reg/callback/?code=bbd0ca609e91bdb0ae&state=HUFJJMTHcSsYcMKPGemOfJsrDeUwEa 500 [153.73, 127.0.0.1:51361]
2024-04-09 17:07:48,065 - INFO - autoreload - autoreload.py 18852 17812 Watching for file changes with StatReloader
2024-04-09 17:07:56,181 - INFO - runserver - runserver.py 18852 7028 HTTP GET /api/auth/reg/redirect/ 200 [1.52, 127.0.0.1:51406]
2024-04-09 17:11:03,533 - INFO - autoreload - autoreload.py 18852 17812 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-09 17:15:05,069 - INFO - autoreload - autoreload.py 4388 14988 Watching for file changes with StatReloader
2024-04-09 17:15:11,648 - ERROR - log - log.py 4388 4956 Internal Server Error: /api/auth/reg/redirect/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 95, in get
    vk_login = VKLoginService()
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py", line 38, in __init__
    self.credentials = vk_login_get_credentials()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py", line 111, in vk_login_get_credentials
    credentials = VKLoginCredentials(
                  ^^^^^^^^^^^^^^^^^^^
TypeError: VKLoginCredentials.__init__() got an unexpected keyword argument 'service_key'
2024-04-09 17:15:11,696 - ERROR - runserver - runserver.py 4388 16860 HTTP GET /api/auth/reg/redirect/ 500 [1.57, 127.0.0.1:51511]
2024-04-09 17:16:01,623 - INFO - autoreload - autoreload.py 10124 1916 Watching for file changes with StatReloader
2024-04-09 17:16:16,974 - INFO - runserver - runserver.py 10124 9336 HTTP GET /api/auth/reg/redirect/ 200 [2.85, 127.0.0.1:51535]
2024-04-09 17:17:11,728 - ERROR - log - log.py 10124 17724 Internal Server Error: /api/auth/reg/callback/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 133, in get
    vk_access_token = vk_login.get_token(code=code)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py", line 78, in get_token
    f'https://oauth.vk.com/access_token?client_id=51895987&client_secret=R7N5jmhZLiaKq8n44jgW&redirect_uri=http://localhost/api/auth/reg/redirect/&code={token}')
                                                                                                                                                         ^^^^^
NameError: name 'token' is not defined
2024-04-09 17:17:11,741 - ERROR - runserver - runserver.py 10124 9336 HTTP GET /api/auth/reg/callback/?code=6f983f2b9a428ec34b&state=FakdEiIjVxjwVnjyNeWLqyiNGJVOQH 500 [37.42, 127.0.0.1:51549]
2024-04-09 17:17:13,777 - INFO - autoreload - autoreload.py 10124 1916 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-09 17:17:17,051 - INFO - autoreload - autoreload.py 8892 9860 Watching for file changes with StatReloader
2024-04-09 17:17:21,789 - INFO - runserver - runserver.py 8892 17828 HTTP GET /api/auth/reg/redirect/ 200 [2.73, 127.0.0.1:51571]
2024-04-09 17:19:05,353 - INFO - runserver - runserver.py 8892 17828 HTTP GET /api/auth/reg/callback/?code=2d7b1c3c247099fb09&state=BiRrPrYnMUMAnXTAhWIFXOMBfrvqDq 200 [93.88, 127.0.0.1:51578]
2024-04-09 17:28:32,636 - INFO - autoreload - autoreload.py 8892 9860 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-09 17:28:36,594 - INFO - autoreload - autoreload.py 3580 19284 Watching for file changes with StatReloader
2024-04-09 17:29:05,514 - INFO - autoreload - autoreload.py 3580 19284 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-09 17:29:09,212 - INFO - autoreload - autoreload.py 15252 4580 Watching for file changes with StatReloader
2024-04-09 17:30:06,706 - INFO - autoreload - autoreload.py 960 8768 Watching for file changes with StatReloader
2024-04-09 17:30:14,780 - INFO - runserver - runserver.py 960 15844 HTTP GET /api/auth/reg/redirect/ 200 [2.04, 127.0.0.1:51698]
2024-04-09 17:32:26,163 - INFO - autoreload - autoreload.py 960 8768 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-09 17:34:35,701 - ERROR - runserver - runserver.py 960 15844 HTTP POST /api/auth/login/ 500 [0.78, 127.0.0.1:51721]
2024-04-09 17:34:53,351 - INFO - autoreload - autoreload.py 2576 8892 Watching for file changes with StatReloader
2024-04-09 17:34:56,141 - INFO - runserver - runserver.py 2576 10312 HTTP POST /api/auth/login/ 200 [0.78, 127.0.0.1:51738]
2024-04-09 17:35:30,392 - INFO - runserver - runserver.py 2576 10312 WebSocket HANDSHAKING /ws/chat/1/ [127.0.0.1:51743]
2024-04-09 17:36:27,632 - INFO - runserver - runserver.py 2576 10312 WebSocket REJECT /ws/chat/1/ [127.0.0.1:51743]
2024-04-09 17:36:27,633 - INFO - runserver - runserver.py 2576 10312 WebSocket DISCONNECT /ws/chat/1/ [127.0.0.1:51743]
2024-04-09 17:37:08,334 - INFO - runserver - runserver.py 2576 10312 HTTP GET /api/auth/reg/redirect/ 200 [5.56, 127.0.0.1:51751]
2024-04-09 17:37:18,806 - INFO - runserver - runserver.py 2576 10312 HTTP GET /api/auth/reg/redirect/ 200 [4.50, 127.0.0.1:51751]
2024-04-09 17:38:21,683 - INFO - autoreload - autoreload.py 976 14576 Watching for file changes with StatReloader
2024-04-09 17:38:27,026 - INFO - runserver - runserver.py 976 7036 HTTP GET /api/auth/reg/redirect/ 200 [1.47, 127.0.0.1:51781]
2024-04-09 17:38:42,498 - INFO - runserver - runserver.py 976 7036 HTTP GET /api/auth/reg/callback/?code=56c43e8229304bd46f&state=ItsErPBbZUdxWbRGInbvfdDCItDMiY 200 [6.71, 127.0.0.1:51790]
2024-04-10 11:16:04,600 - INFO - autoreload - autoreload.py 7480 12452 Watching for file changes with StatReloader
2024-04-10 11:22:46,285 - INFO - autoreload - autoreload.py 7480 12452 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-10 11:22:49,976 - INFO - autoreload - autoreload.py 15024 7080 Watching for file changes with StatReloader
2024-04-10 11:44:24,360 - INFO - autoreload - autoreload.py 13444 13320 Watching for file changes with StatReloader
2024-04-10 11:44:40,133 - INFO - runserver - runserver.py 13444 7904 HTTP GET /api/auth/reg/redirect/ 200 [4.96, 127.0.0.1:62948]
2024-04-10 11:46:14,625 - ERROR - log - log.py 13444 4352 Internal Server Error: /api/auth/reg/callback/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\requests\models.py", line 971, in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 138, in get
    user_info = vk_login.get_user_info(vk_access_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py", line 95, in get_user_info
    user_info = response.json()
                ^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\requests\models.py", line 975, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2024-04-10 11:46:14,650 - ERROR - runserver - runserver.py 13444 7904 HTTP GET /api/auth/reg/callback/?code=1295ec920069cef561&state=mZCHdCKJqwBjeecXUiKHooMOktVxnp 500 [79.19, 127.0.0.1:62960]
2024-04-10 11:46:47,594 - INFO - runserver - runserver.py 13444 7904 HTTP GET /api/auth/reg/redirect/ 200 [2.92, 127.0.0.1:62980]
2024-04-10 11:52:46,487 - ERROR - log - log.py 13444 4352 Internal Server Error: /api/auth/reg/callback/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\requests\models.py", line 971, in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 138, in get
    user_info = vk_login.get_user_info(vk_access_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py", line 95, in get_user_info
    user_info = response.json()
                ^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\requests\models.py", line 975, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2024-04-10 11:52:46,508 - ERROR - runserver - runserver.py 13444 7904 HTTP GET /api/auth/reg/callback/?code=4ffc89cbc5ef573a6c&state=SgAQVokURNsUMrZnFwOcmIXGrDPQvF 500 [342.25, 127.0.0.1:62960]
2024-04-10 12:43:36,373 - INFO - autoreload - autoreload.py 13444 13320 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-10 12:43:42,964 - INFO - autoreload - autoreload.py 16860 4804 Watching for file changes with StatReloader
2024-04-10 12:44:01,709 - INFO - autoreload - autoreload.py 16860 4804 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-10 12:44:05,080 - INFO - autoreload - autoreload.py 10856 17024 Watching for file changes with StatReloader
2024-04-10 12:46:44,304 - INFO - autoreload - autoreload.py 10856 17024 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-10 12:46:48,032 - INFO - autoreload - autoreload.py 3564 18560 Watching for file changes with StatReloader
2024-04-10 12:46:54,628 - INFO - autoreload - autoreload.py 3564 18560 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-10 12:46:58,409 - INFO - autoreload - autoreload.py 17468 2556 Watching for file changes with StatReloader
2024-04-10 12:47:27,550 - INFO - autoreload - autoreload.py 17468 2556 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-10 12:47:32,324 - INFO - autoreload - autoreload.py 9624 10556 Watching for file changes with StatReloader
2024-04-10 12:47:39,758 - INFO - runserver - runserver.py 9624 17040 HTTP GET /api/auth/reg/redirect/ 200 [4.50, 127.0.0.1:56439]
2024-04-10 12:50:04,129 - ERROR - log - log.py 9624 8844 Internal Server Error: /api/auth/reg/callback/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\requests\models.py", line 971, in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 138, in get
    user_info = vk_login.get_user_info(vk_access_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py", line 98, in get_user_info
    user_info = response.json()
                ^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\requests\models.py", line 975, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2024-04-10 12:50:04,158 - ERROR - runserver - runserver.py 9624 17040 HTTP GET /api/auth/reg/callback/?code=61c7eba161ea3cdf67&state=kYhKgAcTZhXenqbzPsOzCguASospeJ 500 [127.29, 127.0.0.1:56450]
2024-04-10 12:50:07,254 - INFO - autoreload - autoreload.py 9624 10556 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-10 12:50:10,744 - INFO - autoreload - autoreload.py 9900 16860 Watching for file changes with StatReloader
2024-04-10 12:50:19,178 - INFO - autoreload - autoreload.py 304 8292 Watching for file changes with StatReloader
2024-04-10 12:50:28,622 - INFO - runserver - runserver.py 304 7952 HTTP GET /api/auth/reg/redirect/ 200 [3.04, 127.0.0.1:56500]
2024-04-10 12:52:13,892 - ERROR - log - log.py 304 17104 Internal Server Error: /api/auth/reg/callback/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\requests\models.py", line 971, in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 138, in get
    user_info = vk_login.get_user_info(vk_access_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py", line 100, in get_user_info
    user_info = response.json()
                ^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\requests\models.py", line 975, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2024-04-10 12:52:13,908 - ERROR - runserver - runserver.py 304 7952 HTTP GET /api/auth/reg/callback/?code=b8c980ea2fa2d5e79b&state=RiltBkmadxzUqLbaOQVCQjBdyqQWsP 500 [93.87, 127.0.0.1:56507]
2024-04-10 12:52:20,890 - INFO - autoreload - autoreload.py 304 8292 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-10 12:52:24,338 - INFO - autoreload - autoreload.py 5772 11144 Watching for file changes with StatReloader
2024-04-10 12:52:30,268 - INFO - runserver - runserver.py 5772 14728 HTTP GET /api/auth/reg/redirect/ 200 [3.11, 127.0.0.1:56535]
2024-04-10 12:53:12,527 - INFO - runserver - runserver.py 5772 14728 HTTP GET /api/auth/reg/callback/?code=26cf10df9c23f9db20&state=wVEwDrJvGdDMiSzbLsGyRzfwxuArHa 200 [30.49, 127.0.0.1:56545]
2024-04-10 12:58:47,414 - INFO - autoreload - autoreload.py 5772 11144 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-10 12:58:51,402 - INFO - autoreload - autoreload.py 15336 16416 Watching for file changes with StatReloader
2024-04-10 12:58:58,910 - INFO - runserver - runserver.py 15336 4440 HTTP GET /api/auth/reg/redirect/ 200 [2.38, 127.0.0.1:56602]
2024-04-10 13:12:20,044 - INFO - runserver - runserver.py 15336 4440 HTTP POST /api/auth/login/ 200 [0.68, 127.0.0.1:56697]
2024-04-10 13:17:51,457 - INFO - autoreload - autoreload.py 15336 16416 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-10 13:17:59,105 - INFO - autoreload - autoreload.py 9168 2976 Watching for file changes with StatReloader
2024-04-10 13:18:08,453 - INFO - autoreload - autoreload.py 9168 2976 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-10 13:18:11,763 - INFO - autoreload - autoreload.py 8752 9016 Watching for file changes with StatReloader
2024-04-10 13:30:25,668 - INFO - autoreload - autoreload.py 8752 9016 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-10 13:30:32,581 - INFO - autoreload - autoreload.py 1916 14544 Watching for file changes with StatReloader
2024-04-10 13:43:35,445 - INFO - autoreload - autoreload.py 1916 14544 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-10 13:43:41,483 - INFO - autoreload - autoreload.py 7508 9716 Watching for file changes with StatReloader
2024-04-10 14:05:18,010 - INFO - autoreload - autoreload.py 6612 1924 Watching for file changes with StatReloader
2024-04-10 14:05:33,226 - INFO - runserver - runserver.py 6612 6576 HTTP GET /api/auth/reg/redirect/ 200 [4.13, 127.0.0.1:57305]
2024-04-10 14:07:50,753 - INFO - autoreload - autoreload.py 6612 1924 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-10 14:10:43,228 - INFO - autoreload - autoreload.py 13200 13692 Watching for file changes with StatReloader
2024-04-10 14:11:00,295 - INFO - runserver - runserver.py 13200 5772 HTTP GET /api/auth/reg/redirect/ 200 [5.34, 127.0.0.1:57598]
2024-04-10 14:14:38,056 - ERROR - log - log.py 13200 10392 Internal Server Error: /api/auth/reg/callback/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 140, in get
    user = vk_login.save_user(user_info)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py", line 122, in save_user
    user.save()
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 180, in save
    assert hasattr(self, '_errors'), (
AssertionError: You must call `.is_valid()` before calling `.save()`.
2024-04-10 14:14:38,077 - ERROR - runserver - runserver.py 13200 5772 HTTP GET /api/auth/reg/callback/?code=40ec7203b26e7b6683&state=ihpxwtsUBSHCEZJaMYMfwQUPBtRimm 500 [205.25, 127.0.0.1:57615]
2024-04-10 14:14:40,234 - INFO - autoreload - autoreload.py 13200 13692 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-10 14:14:44,656 - INFO - autoreload - autoreload.py 14212 2320 Watching for file changes with StatReloader
2024-04-10 14:14:52,321 - INFO - runserver - runserver.py 14212 8160 HTTP GET /api/auth/reg/redirect/ 200 [0.22, 127.0.0.1:57775]
2024-04-10 14:19:00,557 - INFO - autoreload - autoreload.py 14212 2320 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-10 14:20:13,592 - INFO - autoreload - autoreload.py 13184 13932 Watching for file changes with StatReloader
2024-04-10 14:20:21,365 - INFO - runserver - runserver.py 13184 12580 HTTP GET /api/auth/reg/redirect/ 200 [0.23, 127.0.0.1:58129]
2024-04-10 14:21:39,966 - INFO - runserver - runserver.py 13184 12580 HTTP GET /api/auth/reg/callback/?code=1c168f522b213f8001&state=qGEsYCRTDCvhGRVRPrGjiyNxjQtXHL 200 [48.14, 127.0.0.1:58142]
2024-04-10 14:23:48,661 - INFO - autoreload - autoreload.py 13184 13932 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-10 14:23:52,845 - INFO - autoreload - autoreload.py 9592 8592 Watching for file changes with StatReloader
2024-04-10 14:25:25,236 - INFO - autoreload - autoreload.py 9592 8592 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-10 14:25:29,304 - INFO - autoreload - autoreload.py 1124 6076 Watching for file changes with StatReloader
2024-04-10 14:25:31,086 - WARNING - log - log.py 1124 2496 Method Not Allowed: /api/auth/login/
2024-04-10 14:25:31,088 - WARNING - runserver - runserver.py 1124 12096 HTTP GET /api/auth/login/ 405 [0.06, 127.0.0.1:58231]
2024-04-10 14:25:31,765 - WARNING - log - log.py 1124 2496 Not Found: /favicon.ico
2024-04-10 14:25:31,768 - WARNING - runserver - runserver.py 1124 12096 HTTP GET /favicon.ico 404 [0.47, 127.0.0.1:58232]
2024-04-10 14:26:57,375 - INFO - autoreload - autoreload.py 1124 6076 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-10 14:27:01,320 - INFO - autoreload - autoreload.py 11064 17204 Watching for file changes with StatReloader
2024-04-10 14:36:22,658 - INFO - autoreload - autoreload.py 11064 17204 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-10 14:36:26,617 - INFO - autoreload - autoreload.py 14372 13228 Watching for file changes with StatReloader
2024-04-10 14:41:39,638 - INFO - autoreload - autoreload.py 14372 13228 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-10 14:41:43,645 - INFO - autoreload - autoreload.py 18232 6784 Watching for file changes with StatReloader
2024-04-10 14:44:43,212 - INFO - autoreload - autoreload.py 18232 6784 C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py changed, reloading.
2024-04-10 14:44:46,743 - INFO - autoreload - autoreload.py 5044 8512 Watching for file changes with StatReloader
2024-04-10 14:44:58,663 - INFO - runserver - runserver.py 5044 15980 HTTP GET /api/auth/reg/redirect/ 200 [0.32, 127.0.0.1:58564]
2024-04-10 14:46:43,938 - INFO - runserver - runserver.py 5044 15980 HTTP GET /api/auth/reg/callback/?code=739f2f3d0ee01dafe6&state=VFtdwNhZcesGuTjTrVKQDdRDsWjWsu 302 [90.11, 127.0.0.1:58578]
2024-04-10 14:52:49,829 - INFO - runserver - runserver.py 5044 15980 HTTP POST /api/auth/login/ 200 [0.56, 127.0.0.1:58804]
2024-04-10 14:53:21,743 - INFO - autoreload - autoreload.py 7700 11476 Watching for file changes with StatReloader
2024-04-10 14:53:26,737 - INFO - runserver - runserver.py 7700 15300 HTTP POST /api/auth/login/ 200 [0.59, 127.0.0.1:58827]
2024-04-10 17:13:41,984 - WARNING - log - log.py 7700 8408 Not Found: /favicon.ico
2024-04-10 17:13:42,002 - WARNING - runserver - runserver.py 7700 15300 HTTP GET /favicon.ico 404 [0.71, 127.0.0.1:49394]
2024-04-12 11:17:53,686 - INFO - autoreload - autoreload.py 9204 7912 Watching for file changes with StatReloader
2024-04-12 13:44:16,737 - INFO - autoreload - autoreload.py 8996 3856 Watching for file changes with StatReloader
2024-04-12 17:58:59,756 - INFO - autoreload - autoreload.py 7860 10628 Watching for file changes with StatReloader
2024-04-12 17:59:12,561 - WARNING - log - log.py 7860 8640 Bad Request: /api/auth/reg/callback_google/
2024-04-12 17:59:12,565 - WARNING - runserver - runserver.py 7860 6572 HTTP GET /api/auth/reg/callback_google/ 400 [0.08, 127.0.0.1:51385]
2024-04-12 18:01:44,173 - INFO - runserver - runserver.py 7860 6572 HTTP GET /api/auth/reg/redirect_google/ 200 [84.48, 127.0.0.1:51403]
2024-04-12 18:07:44,101 - INFO - runserver - runserver.py 7860 6572 HTTP GET /api/auth/reg/redirect_google/ 200 [152.23, 127.0.0.1:51464]
2024-04-12 18:22:16,748 - INFO - autoreload - autoreload.py 10952 3076 Watching for file changes with StatReloader
2024-04-12 18:23:01,114 - INFO - runserver - runserver.py 10952 8700 HTTP GET /api/auth/reg/redirect_google/ 200 [37.51, 127.0.0.1:51656]
2024-04-12 18:24:27,384 - INFO - runserver - runserver.py 10952 8700 HTTP GET /api/auth/reg/redirect_google/ 200 [6.55, 127.0.0.1:51680]
2024-04-12 18:26:51,131 - ERROR - log - log.py 10952 3980 Internal Server Error: /api/auth/reg/callback_google/
Traceback (most recent call last):
  File "C:\Users\ALeX\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\ALeX\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ALeX\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\ALeX\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ALeX\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ALeX\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ALeX\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ALeX\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ALeX\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ALeX\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ALeX\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\ALeX\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ALeX\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ALeX\PycharmProjects\visual\visual\accounts\views.py", line 139, in get
    user_info = vk_login.get_user_info(vk_access_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ALeX\PycharmProjects\visual\visual\accounts\services.py", line 107, in get_user_info
    'user_ids': vk_access_data['user_id'],
                ~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\ALeX\PycharmProjects\visual\venv\Lib\site-packages\django\http\response.py", line 199, in __getitem__
    return self.headers[header]
           ~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\ALeX\PycharmProjects\visual\venv\Lib\site-packages\django\utils\datastructures.py", line 308, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'user_id'
2024-04-12 18:26:51,177 - ERROR - runserver - runserver.py 10952 8700 HTTP GET /api/auth/reg/callback_google/?state=kdRvJVprGrHMtclKCEAwYylzcWuOBG&code=4%2F0AeaYSHCRqbRXuCDKfH551qBLR2Y1QUNOZo4rpwW3FF-w1gdee316KjINoqseYHA0rGp65w&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent 500 [114.80, 127.0.0.1:51706]
2024-04-12 18:26:53,166 - WARNING - log - log.py 10952 3980 Not Found: /favicon.ico
2024-04-12 18:26:53,171 - WARNING - runserver - runserver.py 10952 8700 HTTP GET /favicon.ico 404 [0.83, 127.0.0.1:51706]
2024-04-15 12:12:49,602 - INFO - autoreload - autoreload.py 13180 17516 Watching for file changes with StatReloader
2024-04-15 12:13:14,750 - INFO - autoreload - autoreload.py 7468 10660 Watching for file changes with StatReloader
2024-04-15 12:14:55,556 - INFO - runserver - runserver.py 7468 18648 HTTP GET /api/auth/reg/redirect_google/ 200 [27.19, 127.0.0.1:62355]
2024-04-15 12:19:06,231 - INFO - autoreload - autoreload.py 16324 10208 Watching for file changes with StatReloader
2024-04-15 12:19:22,074 - INFO - runserver - runserver.py 16324 1676 HTTP GET /api/auth/reg/redirect_google/ 200 [0.20, 127.0.0.1:62433]
2024-04-15 12:21:05,144 - INFO - autoreload - autoreload.py 3492 12108 Watching for file changes with StatReloader
2024-04-15 12:21:10,266 - INFO - runserver - runserver.py 3492 1252 HTTP GET /api/auth/reg/redirect_google/ 200 [0.29, 127.0.0.1:62573]
2024-04-15 12:26:10,054 - INFO - autoreload - autoreload.py 1132 17600 Watching for file changes with StatReloader
2024-04-15 12:26:14,500 - INFO - runserver - runserver.py 1132 15132 HTTP GET /api/auth/reg/redirect_google/ 200 [0.22, 127.0.0.1:62636]
2024-04-15 12:27:08,779 - WARNING - log - log.py 1132 9224 Not Found: /api/auth/reg/callback_google/
2024-04-15 12:27:08,780 - WARNING - runserver - runserver.py 1132 15132 HTTP GET /api/auth/reg/callback_google/?state=XvREUybPpYldyMaAJFrySYOsqUDASX&code=4%2F0AeaYSHAQTAoDTmvQztaIvkCy2SfpwBCI4HM5R8TGI2SGuA9ik96nrM_L0ZNqxFi0gXhA0Q&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=none 404 [42.12, 127.0.0.1:62643]
2024-04-15 12:27:09,187 - WARNING - log - log.py 1132 9224 Not Found: /favicon.ico
2024-04-15 12:27:09,189 - WARNING - runserver - runserver.py 1132 15132 HTTP GET /favicon.ico 404 [0.27, 127.0.0.1:62643]
2024-04-15 12:29:13,634 - INFO - autoreload - autoreload.py 11108 17508 Watching for file changes with StatReloader
2024-04-15 12:29:25,024 - INFO - runserver - runserver.py 11108 11788 HTTP GET /api/auth/reg/redirect_google/ 200 [0.25, 127.0.0.1:62685]
2024-04-15 12:30:50,706 - INFO - runserver - runserver.py 11108 11788 HTTP GET /api/auth/reg/callback_google/?state=VFivchiTHHEkKlWUECbMUsCMFrDcPM&code=4%2F0AeaYSHDpFpN8ZIgpq9TNUqNWCyA0vx5V6Qelh97Zmm6WY61ErdtaAPNpUgR1rI8hQkY9fA&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=none 200 [75.84, 127.0.0.1:62796]
2024-04-15 12:30:50,821 - WARNING - log - log.py 11108 17320 Not Found: /favicon.ico
2024-04-15 12:30:50,823 - WARNING - runserver - runserver.py 11108 11788 HTTP GET /favicon.ico 404 [0.07, 127.0.0.1:62796]
2024-04-23 16:37:26,831 - INFO - autoreload - autoreload.py 3380 11916 Watching for file changes with StatReloader
2024-04-23 16:38:03,204 - WARNING - log - log.py 3380 9380 Not Found: /
2024-04-23 16:38:03,206 - WARNING - runserver - runserver.py 3380 11592 HTTP GET / 404 [0.81, 127.0.0.1:52611]
2024-04-23 16:38:03,468 - WARNING - log - log.py 3380 9380 Not Found: /favicon.ico
2024-04-23 16:38:03,469 - WARNING - runserver - runserver.py 3380 11592 HTTP GET /favicon.ico 404 [0.01, 127.0.0.1:52611]
2024-04-23 16:38:04,236 - INFO - autoreload - autoreload.py 3380 11916 C:\Users\Alex\PycharmProjects\visual\visual\accounts\models.py changed, reloading.
2024-04-23 16:38:06,694 - INFO - autoreload - autoreload.py 19972 18256 Watching for file changes with StatReloader
2024-04-23 16:38:20,412 - INFO - runserver - runserver.py 19972 19872 HTTP GET /api/schema/swagger-ui/ 200 [0.67, 127.0.0.1:52619]
2024-04-23 16:38:21,146 - INFO - runserver - runserver.py 19972 19872 HTTP GET /api/schema/ 200 [0.15, 127.0.0.1:52619]
2024-04-23 16:53:18,382 - INFO - runserver - runserver.py 19972 19872 HTTP GET /api/schema/swagger-ui/ 200 [0.03, 127.0.0.1:52725]
2024-04-23 16:53:19,607 - INFO - runserver - runserver.py 19972 19872 HTTP GET /api/schema/ 200 [0.12, 127.0.0.1:52725]
2024-04-23 17:54:29,912 - INFO - autoreload - autoreload.py 19972 18256 C:\Users\Alex\PycharmProjects\visual\visual\accounts\services.py changed, reloading.
2024-04-23 17:54:35,744 - INFO - autoreload - autoreload.py 12080 15636 Watching for file changes with StatReloader
2024-04-23 19:41:13,026 - WARNING - log - log.py 12080 12292 Method Not Allowed: /api/auth/reg/
2024-04-23 19:41:13,051 - WARNING - runserver - runserver.py 12080 13024 HTTP GET /api/auth/reg/ 405 [1.09, 127.0.0.1:54697]
2024-04-26 14:32:24,383 - INFO - autoreload - autoreload.py 14300 5400 Watching for file changes with StatReloader
2024-04-26 14:32:37,487 - WARNING - log - log.py 14300 21052 Not Found: /
2024-04-26 14:32:37,489 - WARNING - runserver - runserver.py 14300 4724 HTTP GET / 404 [0.87, 127.0.0.1:64663]
2024-04-26 14:32:37,832 - WARNING - log - log.py 14300 21052 Not Found: /favicon.ico
2024-04-26 14:32:37,833 - WARNING - runserver - runserver.py 14300 4724 HTTP GET /favicon.ico 404 [0.03, 127.0.0.1:64663]
2024-04-26 14:32:41,853 - WARNING - log - log.py 14300 21052 Not Found: /
2024-04-26 14:32:41,854 - WARNING - runserver - runserver.py 14300 4724 HTTP GET / 404 [0.04, 127.0.0.1:64674]
2024-04-26 14:32:42,692 - WARNING - log - log.py 14300 21052 Not Found: /favicon.ico
2024-04-26 14:32:42,693 - WARNING - runserver - runserver.py 14300 4724 HTTP GET /favicon.ico 404 [0.17, 127.0.0.1:64674]
2024-04-26 14:32:47,222 - INFO - runserver - runserver.py 14300 4724 HTTP GET /api/schema/swagger-ui/ 200 [0.07, 127.0.0.1:64674]
2024-04-26 14:32:47,885 - INFO - runserver - runserver.py 14300 4724 HTTP GET /api/schema/ 200 [0.15, 127.0.0.1:64674]
2024-04-26 15:16:24,866 - INFO - autoreload - autoreload.py 14300 5400 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-26 15:16:29,105 - INFO - autoreload - autoreload.py 6540 12564 Watching for file changes with StatReloader
2024-04-26 15:23:31,947 - INFO - autoreload - autoreload.py 16368 13580 Watching for file changes with StatReloader
2024-04-26 15:23:50,453 - INFO - views - views.py 16368 15432 Post data try | {'username': 'test_username4', 'email': 'aatevs@gmail.com', 'password': '123456', 'password2': '123456'}
2024-04-26 15:23:50,926 - WARNING - log - log.py 16368 2496 Bad Request: /api/auth/reg/
2024-04-26 15:23:50,942 - WARNING - runserver - runserver.py 16368 20528 HTTP POST /api/auth/reg/ 400 [0.52, 127.0.0.1:50653]
2024-04-26 15:29:08,016 - INFO - views - views.py 16368 19988 Post data try | {'username': 'test_username4', 'email': 'aatevs@gmail.com', 'password': '123456', 'password2': '123456'}
2024-04-26 16:07:42,406 - ERROR - log - log.py 16368 2496 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 75, in post
    user = serializer.save()
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 212, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py", line 52, in create
    f'Пожалуйста, перейдите по следующей ссылке, чтобы подтвердить свой адрес электронной почты: http://{current_site}{activation_url}',
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\utils\functional.py", line 155, in __format__
    return format(self.__cast(), format_spec)
                  ^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\utils\functional.py", line 110, in __cast
    return func(*self._args, **self._kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\urls\resolvers.py", line 851, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'confirm_email' not found. 'confirm_email' is not a valid view function or pattern name.
2024-04-26 16:07:43,169 - ERROR - runserver - runserver.py 16368 20528 HTTP POST /api/auth/reg/ 500 [2315.15, 127.0.0.1:51138]
2024-04-26 16:10:38,848 - INFO - autoreload - autoreload.py 16368 13580 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-26 16:10:54,326 - INFO - autoreload - autoreload.py 12596 19532 Watching for file changes with StatReloader
2024-04-26 16:11:00,940 - INFO - views - views.py 12596 8556 Post data try | {'username': 'test_username4', 'email': 'aatevs@gmail.com', 'password': '123456', 'password2': '123456'}
2024-04-26 16:12:38,606 - ERROR - log - log.py 12596 7492 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 75, in post
    user = serializer.save()
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 212, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py", line 52, in create
    f'Пожалуйста, перейдите по следующей ссылке, чтобы подтвердить свой адрес электронной почты: http://{current_site}{activation_url}',
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\utils\functional.py", line 155, in __format__
    return format(self.__cast(), format_spec)
                  ^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\utils\functional.py", line 110, in __cast
    return func(*self._args, **self._kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\urls\resolvers.py", line 851, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'email' not found. 'email' is not a valid view function or pattern name.
2024-04-26 16:12:38,631 - ERROR - runserver - runserver.py 12596 1264 HTTP POST /api/auth/reg/ 500 [97.72, 127.0.0.1:53239]
2024-04-26 16:15:39,989 - INFO - autoreload - autoreload.py 12596 19532 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-26 16:15:43,712 - INFO - autoreload - autoreload.py 6168 21256 Watching for file changes with StatReloader
2024-04-26 16:16:03,419 - INFO - views - views.py 6168 5376 Post data try | {'username': 'test_username4', 'email': 'aatevs@gmail.com', 'password': '123456', 'password2': '123456'}
2024-04-26 16:20:25,738 - ERROR - log - log.py 6168 1076 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 75, in post
    user = serializer.save()
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 212, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py", line 52, in create
    f'Пожалуйста, перейдите по следующей ссылке, чтобы подтвердить свой адрес электронной почты: http://{current_site}{activation_url}',
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\utils\functional.py", line 155, in __format__
    return format(self.__cast(), format_spec)
                  ^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\utils\functional.py", line 110, in __cast
    return func(*self._args, **self._kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\urls\resolvers.py", line 851, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'confirm_email' not found. 'confirm_email' is not a valid view function or pattern name.
2024-04-26 16:20:25,758 - ERROR - runserver - runserver.py 6168 21020 HTTP POST /api/auth/reg/ 500 [262.36, 127.0.0.1:53523]
2024-04-26 16:20:43,000 - INFO - autoreload - autoreload.py 6168 21256 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-26 16:20:46,326 - INFO - autoreload - autoreload.py 17132 16528 Watching for file changes with StatReloader
2024-04-26 16:24:27,312 - INFO - views - views.py 17132 8828 Post data try | {'username': 'test_username4', 'email': 'aatevs@gmail.com', 'password': '123456', 'password2': '123456'}
2024-04-26 16:26:02,347 - INFO - autoreload - autoreload.py 17132 16528 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-26 16:26:42,192 - INFO - autoreload - autoreload.py 22072 22080 Watching for file changes with StatReloader
2024-04-26 16:26:48,902 - INFO - autoreload - autoreload.py 22072 22080 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-04-26 16:26:52,730 - INFO - autoreload - autoreload.py 21400 21820 Watching for file changes with StatReloader
2024-04-26 16:27:06,344 - INFO - views - views.py 21400 5020 Post data try | {'username': 'test_username4', 'email': 'aatevs@gmail.com', 'password': '123456', 'password2': '123456'}
2024-04-26 16:30:21,457 - ERROR - log - log.py 21400 17916 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 75, in post
    user = serializer.save()
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 212, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py", line 54, in create
    f'Пожалуйста, перейдите по следующей ссылке, чтобы подтвердить свой адрес электронной почты: http://{current_site}{activation_url}',
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\utils\functional.py", line 155, in __format__
    return format(self.__cast(), format_spec)
                  ^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\utils\functional.py", line 110, in __cast
    return func(*self._args, **self._kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\urls\resolvers.py", line 851, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'confirm_email' not found. 'confirm_email' is not a valid view function or pattern name.
2024-04-26 16:30:21,474 - ERROR - runserver - runserver.py 21400 13448 HTTP POST /api/auth/reg/ 500 [195.15, 127.0.0.1:54854]
2024-04-26 16:32:47,196 - INFO - autoreload - autoreload.py 16960 18168 Watching for file changes with StatReloader
2024-04-26 16:32:50,282 - INFO - views - views.py 16960 15640 Post data try | {'username': 'test_username4', 'email': 'aatevs@gmail.com', 'password': '123456', 'password2': '123456'}
2024-04-26 16:33:11,409 - ERROR - log - log.py 16960 17272 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 75, in post
    user = serializer.save()
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 212, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py", line 54, in create
    f'Пожалуйста, перейдите по следующей ссылке, чтобы подтвердить свой адрес электронной почты: http://{current_site}{activation_url}',
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\utils\functional.py", line 155, in __format__
    return format(self.__cast(), format_spec)
                  ^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\utils\functional.py", line 110, in __cast
    return func(*self._args, **self._kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\urls\resolvers.py", line 851, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'confirm_email' not found. 'confirm_email' is not a valid view function or pattern name.
2024-04-26 16:33:11,434 - ERROR - runserver - runserver.py 16960 11468 HTTP POST /api/auth/reg/ 500 [21.17, 127.0.0.1:55634]
2024-04-26 16:36:24,988 - INFO - autoreload - autoreload.py 16960 18168 C:\Users\Alex\PycharmProjects\visual\visual\accounts\urls.py changed, reloading.
2024-04-26 16:36:28,876 - INFO - autoreload - autoreload.py 1236 11956 Watching for file changes with StatReloader
2024-04-26 16:37:02,525 - INFO - views - views.py 1236 6644 Post data try | {'username': 'test_username4', 'email': 'aatevs@gmail.com', 'password': '123456', 'password2': '123456'}
2024-04-26 16:38:33,889 - INFO - autoreload - autoreload.py 12416 19816 Watching for file changes with StatReloader
2024-04-26 16:38:43,220 - INFO - views - views.py 12416 16240 Post data try | {'username': 'test_username4', 'email': 'aatevs@gmail.com', 'password': '123456', 'password2': '123456'}
2024-04-26 16:38:43,986 - ERROR - log - log.py 12416 19220 Internal Server Error: /api/auth/reg/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\views.py", line 75, in post
    user = serializer.save()
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 212, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py", line 54, in create
    f'Пожалуйста, перейдите по следующей ссылке, чтобы подтвердить свой адрес электронной почты: http://{current_site}{activation_url}',
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\utils\functional.py", line 155, in __format__
    return format(self.__cast(), format_spec)
                  ^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\utils\functional.py", line 110, in __cast
    return func(*self._args, **self._kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\urls\resolvers.py", line 851, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'confirm_email' not found. 'confirm_email' is not a valid view function or pattern name.
2024-04-26 16:38:43,995 - ERROR - runserver - runserver.py 12416 7904 HTTP POST /api/auth/reg/ 500 [0.80, 127.0.0.1:55997]
2024-05-02 13:14:40,048 - INFO - autoreload - autoreload.py 21164 17464 Watching for file changes with StatReloader
2024-05-02 13:14:57,463 - INFO - views - views.py 21164 9836 Post data try | {'username': 'test_username4', 'email': 'aatevs@gmail.com', 'password': '123456', 'password2': '123456'}
2024-05-02 13:14:57,731 - WARNING - log - log.py 21164 13468 Bad Request: /api/auth/reg/
2024-05-02 13:14:57,734 - WARNING - runserver - runserver.py 21164 10592 HTTP POST /api/auth/reg/ 400 [0.31, 127.0.0.1:55129]
2024-05-02 13:36:51,228 - INFO - views - views.py 21164 17260 Post data try | {'username': 'test_username4', 'email': 'aatevs@gmail.com', 'password': '123456', 'password2': '123456'}
2024-05-02 13:37:54,673 - INFO - runserver - runserver.py 21164 10592 HTTP POST /api/auth/reg/ 200 [63.46, 127.0.0.1:55519]
2024-05-02 13:39:20,654 - WARNING - log - log.py 21164 13468 Not Found: //api/confirm-email/MTg/c6ej5l-60c0ad25cf9f12c71ddbe93e9c2c77eb/
2024-05-02 13:39:20,654 - WARNING - runserver - runserver.py 21164 10592 HTTP GET //api/confirm-email/MTg/c6ej5l-60c0ad25cf9f12c71ddbe93e9c2c77eb/ 404 [0.40, 127.0.0.1:55567]
2024-05-02 13:39:20,883 - WARNING - log - log.py 21164 13468 Not Found: /favicon.ico
2024-05-02 13:39:20,886 - WARNING - runserver - runserver.py 21164 10592 HTTP GET /favicon.ico 404 [0.09, 127.0.0.1:55567]
2024-05-02 13:40:32,065 - INFO - autoreload - autoreload.py 21164 17464 C:\Users\Alex\PycharmProjects\visual\visual\accounts\serializers.py changed, reloading.
2024-05-02 13:40:36,190 - INFO - autoreload - autoreload.py 12240 13084 Watching for file changes with StatReloader
2024-05-02 13:40:42,789 - INFO - views - views.py 12240 9836 Post data try | {'username': 'test_username4', 'email': 'aatevs@gmail.com', 'password': '123456', 'password2': '123456'}
2024-05-02 13:40:53,006 - INFO - runserver - runserver.py 12240 9304 HTTP POST /api/auth/reg/ 200 [10.24, 127.0.0.1:55615]
2024-05-02 13:41:42,311 - INFO - runserver - runserver.py 12240 9304 HTTP GET /api/confirm-email/MTk/c6ejbz-394611d6468b7a3f7699a27d30b148a8/ 200 [37.50, 127.0.0.1:55627]
2024-05-14 13:33:49,647 - INFO - autoreload - autoreload.py 8968 15692 Watching for file changes with StatReloader
2024-05-14 13:34:01,767 - WARNING - log - log.py 8968 14976 Not Found: /
2024-05-14 13:34:01,769 - WARNING - runserver - runserver.py 8968 19584 HTTP GET / 404 [0.63, 127.0.0.1:51223]
2024-05-14 13:34:01,963 - WARNING - log - log.py 8968 14976 Not Found: /favicon.ico
2024-05-14 13:34:01,964 - WARNING - runserver - runserver.py 8968 19584 HTTP GET /favicon.ico 404 [0.03, 127.0.0.1:51223]
2024-05-14 13:34:16,671 - INFO - runserver - runserver.py 8968 19584 HTTP GET /api/schema/swagger-ui/ 200 [0.15, 127.0.0.1:51223]
2024-05-14 13:34:17,664 - INFO - runserver - runserver.py 8968 19584 HTTP GET /api/schema/ 200 [0.21, 127.0.0.1:51223]
2024-05-14 15:11:51,344 - INFO - runserver - runserver.py 8968 19584 HTTP POST /api/auth/login/ 200 [1.48, 127.0.0.1:52370]
2024-05-14 15:12:25,746 - WARNING - log - log.py 8968 14976 Not Found: /api/me/10/
2024-05-14 15:12:25,747 - WARNING - runserver - runserver.py 8968 19584 HTTP PATCH /api/me/10/ 404 [0.50, 127.0.0.1:52370]
2024-05-14 15:12:29,778 - WARNING - log - log.py 8968 14976 Method Not Allowed: /api/me/
2024-05-14 15:12:29,778 - WARNING - runserver - runserver.py 8968 19584 HTTP PATCH /api/me/ 405 [0.07, 127.0.0.1:52370]
2024-05-14 15:12:36,375 - INFO - views - views.py 8968 17572 User | test2@mail.ru
2024-05-14 15:12:36,520 - INFO - runserver - runserver.py 8968 19584 HTTP GET /api/me/ 200 [0.72, 127.0.0.1:52370]
2024-05-14 15:13:02,941 - INFO - runserver - runserver.py 8968 19584 HTTP GET /api/users/2/my_posts/ 200 [0.61, 127.0.0.1:52370]
2024-05-14 15:13:51,594 - WARNING - log - log.py 8968 14976 Unauthorized: /api/users/2/my_posts/
2024-05-14 15:13:51,595 - WARNING - runserver - runserver.py 8968 19584 HTTP GET /api/users/2/my_posts/ 401 [0.01, 127.0.0.1:52446]
2024-05-14 15:36:26,212 - INFO - runserver - runserver.py 8968 19584 HTTP POST /api/conversations/start/ 200 [1.39, 127.0.0.1:52852]
2024-05-14 15:36:43,407 - INFO - runserver - runserver.py 8968 19584 HTTP POST /api/conversations/start/ 302 [0.19, 127.0.0.1:52852]
2024-05-14 15:36:43,533 - INFO - runserver - runserver.py 8968 19584 HTTP GET /api/conversations/1/ 200 [0.12, 127.0.0.1:52852]
2024-05-14 15:45:15,386 - WARNING - log - log.py 8968 14976 Not Found: /conversations/1/
2024-05-14 15:45:15,387 - WARNING - runserver - runserver.py 8968 19584 HTTP GET /conversations/1/ 404 [0.28, 127.0.0.1:52962]
2024-05-14 15:46:00,240 - INFO - runserver - runserver.py 8968 19584 HTTP GET /api/conversations/1/ 200 [0.09, 127.0.0.1:52962]
2024-05-14 15:47:26,385 - INFO - runserver - runserver.py 8968 19584 HTTP GET /api/conversations/5/ 200 [0.21, 127.0.0.1:52970]
2024-05-14 15:48:54,764 - INFO - runserver - runserver.py 8968 19584 HTTP GET /api/conversations/ 200 [0.12, 127.0.0.1:52978]
2024-05-20 16:05:42,763 - INFO - autoreload - autoreload.py 16408 17728 Watching for file changes with StatReloader
2024-05-20 16:12:38,656 - INFO - runserver - runserver.py 16408 6184 HTTP POST /api/auth/login/ 200 [1.83, 127.0.0.1:63086]
2024-05-20 16:12:52,544 - INFO - views - views.py 16408 17704 PostList | test2@mail.ru {}
2024-05-20 16:12:52,972 - INFO - runserver - runserver.py 16408 6184 HTTP GET /api/posts/ 200 [0.52, 127.0.0.1:63086]
2024-05-20 16:13:06,866 - WARNING - log - log.py 16408 18600 Not Found: /
2024-05-20 16:13:06,867 - WARNING - runserver - runserver.py 16408 6184 HTTP GET / 404 [0.57, 127.0.0.1:63097]
2024-05-20 16:13:07,079 - WARNING - log - log.py 16408 18600 Not Found: /favicon.ico
2024-05-20 16:13:07,080 - WARNING - runserver - runserver.py 16408 6184 HTTP GET /favicon.ico 404 [0.03, 127.0.0.1:63097]
2024-05-20 16:13:43,710 - INFO - runserver - runserver.py 16408 6184 HTTP GET /api/schema/swagger-ui/ 200 [0.06, 127.0.0.1:63097]
2024-05-20 16:13:44,621 - INFO - runserver - runserver.py 16408 6184 HTTP GET /api/schema/ 200 [0.17, 127.0.0.1:63097]
2024-05-20 16:36:53,517 - INFO - views - views.py 16408 10216 PostCreate | test2@mail.ru <QueryDict: {'name': ['Тест'], 'tags[0]': ['testtag'], 'tags[1]': ['foto'], 'image': [<InMemoryUploadedFile: 8eea983c8a0511eebd34badf81d486ab upscaled.jpg (image/jpeg)>]}>
2024-05-20 16:36:53,530 - INFO - runserver - runserver.py 16408 6184 HTTP POST /api/posts/ 200 [0.16, 127.0.0.1:63809]
2024-05-20 16:43:24,634 - INFO - runserver - runserver.py 16408 6184 HTTP POST /api/posts/kartinka/like/ 200 [0.46, 127.0.0.1:63837]
2024-05-20 16:47:03,737 - INFO - runserver - runserver.py 16408 6184 HTTP GET /api/posts/kartinka/likes/ 200 [0.13, 127.0.0.1:63936]
2024-05-20 16:49:24,394 - WARNING - log - log.py 16408 18600 Unauthorized: /api/search/
2024-05-20 16:49:24,395 - WARNING - runserver - runserver.py 16408 6184 HTTP GET /api/search/?search=test 401 [0.01, 127.0.0.1:63964]
2024-05-20 16:49:36,049 - ERROR - log - log.py 16408 18600 Internal Server Error: /api/search/
Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: ОШИБКА:  функция similarity(character varying, unknown) не существует
LINE 1: ...posts_post"."premium", "posts_post"."author_id", (SIMILARITY...
                                                             ^
HINT:  Функция с данными именем и типами аргументов не найдена. Возможно, вам следует добавить явные приведения типов.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 534, in thread_handler
    raise exc_info[1]
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 479, in __call__
    ret: _R = await loop.run_in_executor(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\asgiref\sync.py", line 538, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\generics.py", line 199, in get
    return self.list(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\visual\posts\views.py", line 181, in list
    post_tag = ListPostSerializer(post_tag, many=True).data
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 768, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 253, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\rest_framework\serializers.py", line 686, in to_representation
    return [
           ^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\Alex\PycharmProjects\visual\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: ОШИБКА:  функция similarity(character varying, unknown) не существует
LINE 1: ...posts_post"."premium", "posts_post"."author_id", (SIMILARITY...
                                                             ^
HINT:  Функция с данными именем и типами аргументов не найдена. Возможно, вам следует добавить явные приведения типов.

2024-05-20 16:49:36,069 - ERROR - runserver - runserver.py 16408 6184 HTTP GET /api/search/?search=test 500 [0.95, 127.0.0.1:63964]
